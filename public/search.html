<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8" />
	<title>Personal Budget</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!--Start Bootstrap CDN (And jQuery I think)-->
	<!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
	<!-- jQuery library -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<!-- Latest compiled JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
	<!--End Bootstrap CDN-->
	<script>
    const findEnvelope = async () => {
		const name = document.getElementById("name");
		const id = document.getElementById("id");
		const data = {name: name, id: id};
		try {
			const response = await fetch("http://localhost:3000/search", {
				method: "POST",
				body: JSON.stringify(data),
				redirect: "manual",
				headers: {
					"Content-Type": "application/json"
				}
			});
			if(response.ok) {
				const jsonResponse = await response.json();
			}
		} catch(e) {
			//get request to err page
			console.log(e);
		}
	}
	</script>
</head>
<body>
  <div id="wrapper" class="container-fluid">
	  <header class="row">
		  <div class="col-sm-4"></div>
			<h1 class="col-sm-4" style="text-align:center;"><strong>Search</strong></h1>
			<div class="col-sm-4"></div>
		</header>
		<nav class="navbar navbar-inverse">
      <div class="container-fluid">
      <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#nav">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>                        
      </button>
      <a class="navbar-brand">Personal Budget</a>
      </div>
		  <div class="collapse navbar-collapse" id="nav">
		    <ul class="nav navbar-nav">
				  <li><a href="/">Home</a></li>
				  <li><a href="/envelopes">Envelopes</a></li>
					<li class="active"><a href="/search">Find An Envelope</a></li>
			  </ul>
			</div>
		</nav>
		<main class="container-fluid">
		  <div class="row">
			  <div class="col-sm-3"></div>
			  <h1 class="col-sm-6" style="text-align:center;">Find An Envelope By Name or Id</h1>
				<div class="col-sm-3"></div>
			</div>
			<div class="row">
				<div class="container row col-sm-6">
					<p id="envelope"><span class="h3">Search For An Envelope</span></p>
				</div>
				<form class="col-sm-6 container" method="post" action="/search">
					<div class="row">
						<div class="col-sm-4"></div>
						<div class="col-sm-4 center-block">
							<strong>Name:</strong><br/><input type="text" id="name" name="name" />
						</div>
						<div class="col-sm-4"></div>
					</div>
					<div class="row">
						<div class="col-sm-4"></div>
					<div class="col-sm-4">
							<strong>Id:</strong><br/><input type="text" id="id" name="id" />
						</div>
						<div class="col-sm-4"></div>
					</div>
					<br/>
					<div class="row">
						<div class="col-sm-4"></div>
						<div class="row col-sm-4">
						  <div class="col-sm-2"></div>
						  <input type="submit" class="col-sm-4 btn btn-success" value="Submit" />
							<div class="col-sm-6"></div>
						</div>
						<div class="col-sm-4"></div>
					</div>
				</form>
			</div>
		</main>
	</div>
</body>
</html>